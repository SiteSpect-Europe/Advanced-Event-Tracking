/**
* SiteSpect Advanced Event Tracking
* Copyright 2021, SiteSpect Europe. All Rights Reserved.
* V1.0.19a
*/
window.SS.Tracking.addModule("element_in_view",function(){var s=[],e=null;function h(e,t){if(!e)return!1;var n=e.getBoundingClientRect(),i=n.width*n.height,l=(window.innerHeight||document.documentElement.clientHeight)-n.bottom,o=0<=n.left?n.width:n.width+n.left;o<0&&(o=0);var r=0<=n.top?n.height-(l<=0?Math.abs(l):0):n.height+n.top;r<0&&(r=0);var d=o*r/i*100;return t.threshold?d>=t.threshold:100==d}function n(){for(var e=[],t=0;t<s.length;t++)for(var n=Object.assign({},s[t]),i=(n.__eat_id?n.__eat_id:"")+"_is_visible",l=document.documentElement.querySelectorAll(s[t].selector),o=0;o<l.length;o++){var r=l[o],d=h(r,n);r&&d&&!r[i]?(s[t].times_visible++,s[t].persistent||(e.push(t),delete n.times_visible),r[i]=!0,window.SS.Tracking.evalEventSent(s[t],r,{event:"elementInViewport"})):r&&!d&&!0===r[i]&&(r[i]=!1)}for(t=e.length-1;0<=t;t--)s.splice(e[t],1);u()}var t,i,l=(t=n,function(){null===e&&(e=setTimeout(function(){t(),e=null},i))}),o=!(i=100);function u(){var t=!1;o&&0===s.length?o=!(t="removeEventListener"):!o&&0<s.length&&(t="addEventListener",o=!0),t&&(["scroll","DOMContentLoaded","resize","load"].forEach(function(e){(0,window[t])(e,l)}),n())}return{newEvent:function(e){"element_in_view"===e.track&&(e.times_visible=0,e.visible=!1,s.push(e),u())}}});